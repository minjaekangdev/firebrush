"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[406],{7406:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var n=a(2791),i=a(1413),s=a(7935),c=a(184);var l=function(){var e=(0,n.useContext)(s.A),t=e.myEvents,a=e.mainEvent,l=e.setMainEvent;return(0,n.useEffect)((function(){l((function(e){var a=(0,i.Z)({},e);return a.id=t[0].id,a.headline=t[0].headline,a.summary=t[0].summary,a.description=t[0].description,a.metaData=[{dateStart:t[0].metaData[0].dateStart,dateEnd:t[0].metaData[0].dateEnd,location:[{buildingNumber:t[0].metaData[0].location[0].buildingNumber,street:t[0].metaData[0].location[0].street,city:t[0].metaData[0].location[0].city,state:t[0].metaData[0].location[0].state,zipCode:t[0].metaData[0].location[0].zipCode,latitude:t[0].metaData[0].location[0].latitude,longitude:t[0].metaData[0].location[0].longitude}]}],a.slug=t[0].slug,a.imageUrl=t[0].imageUrl,a.dateCreated=t[0].dateCreated,a.dateModified=t[0].dateModified,a}))}),[]),(0,c.jsx)("div",{className:"bg-white border p-4 rounded ml-5",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("h2",{children:a.headline}),(0,c.jsx)("img",{className:"img-fluid event-img",src:a.imageUrl,alt:"eventimg"}),(0,c.jsx)("h6",{style:{fontSize:"20px"},children:"Summary"}),(0,c.jsx)("p",{children:a.summary}),(0,c.jsx)("h6",{style:{fontSize:"20px"},children:"Description"}),(0,c.jsx)("p",{children:a.description}),(0,c.jsxs)("div",{className:"row d-flex justify-content-between",children:[(0,c.jsx)("div",{className:"col-xl-6",children:(0,c.jsx)("iframe",{title:"map",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyAAvHGEiiMNEavE8qp_rXHQdnIqaebNBo8&","&q=").concat(a.metaData[0].location[0].buildingNumber," ").concat(a.metaData[0].location[0].street," ").concat(a.metaData[0].location[0].city,", ").concat(a.metaData[0].location[0].state," ").concat(a.metaData[0].location[0].zipCode),loading:"lazy",className:"w-100 h-100"})}),(0,c.jsxs)("div",{className:"col-xl-6",children:[(0,c.jsx)("h6",{style:{fontSize:"20px"},children:"Location"}),(0,c.jsxs)("p",{id:"mainLocation",children:[a.metaData[0].location[0].buildingNumber," ",a.metaData[0].location[0].street," ",a.metaData[0].location[0].city,", ",a.metaData[0].location[0].state," ",a.metaData[0].location[0].zipCode]}),(0,c.jsxs)("p",{children:["Start Date:"," ",new Date(a.metaData[0].dateStart).toLocaleDateString()," ",new Date(a.metaData[0].dateStart).toLocaleTimeString()]}),(0,c.jsxs)("p",{children:["End Date:"," ",new Date(a.metaData[0].dateEnd).toLocaleDateString()," ",new Date(a.metaData[0].dateEnd).toLocaleTimeString()]})]})]})]})})},o=a(885),r=a(7689),d=a(697),m=a(2982),u=a(6774),h=a(2345),x=a(5828),v=a.n(x);var f=function(e){var t=e.event,a=(0,n.useContext)(h.S).currentUser,l=(0,n.useContext)(s.A),o=l.myEvents,r=l.setMyEvents,d=l.setMainEvent,x=function(e){var a=o.findIndex((function(e){return e.id===t.id}));a>=0&&r((function(e){var t=(0,m.Z)(e);return t.splice(a,1),v().success("Removed from my events"),t}))},f=function(e){v().error("An error occurred"),console.log(e)};return(0,c.jsx)("div",{className:"card m-2 w-100 h-100",children:(0,c.jsxs)("div",{className:"pb-2",children:[(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h5",{children:t.headline}),(0,c.jsxs)("p",{children:["Start Date:"," ",new Date(t.metaData[0].dateStart).toLocaleDateString()," ",new Date(t.metaData[0].dateStart).toLocaleTimeString()]}),(0,c.jsx)("p",{children:t.summary}),(0,c.jsx)("p",{children:t.description})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-12",children:[(0,c.jsx)("button",{className:"btn btn-light",onClick:function(){d((function(e){var a=(0,i.Z)({},e);return a.id=t.id,a.headline=t.headline,a.summary=t.summary,a.description=t.description,a.metaData=[{dateStart:t.metaData[0].dateStart,dateEnd:t.metaData[0].dateEnd,location:[{buildingNumber:t.metaData[0].location[0].buildingNumber,street:t.metaData[0].location[0].street,city:t.metaData[0].location[0].city,state:t.metaData[0].location[0].state,zipCode:t.metaData[0].location[0].zipCode,latitude:t.metaData[0].location[0].latitude,longitude:t.metaData[0].location[0].longitude}]}],a.slug=t.slug,a.imageUrl=t.imageUrl,a.dateCreated=t.dateCreated,a.dateModified=t.dateModified,a}))},children:"View More"}),(0,c.jsx)("button",{className:"btn btn-warning mx-3",onClick:function(){u.Z.unvolunteer(a.id,t.id).then(x).catch(f)},children:"Remove"})]})})]})})};var g=function(){var e=(0,n.useState)([]),t=(0,o.Z)(e,2),a=t[0],l=t[1],m=(0,n.useState)({defaultPageSize:3,pageIndex:0,currentPage:1,totalCards:0}),u=(0,o.Z)(m,2),x=u[0],v=u[1],g=(0,n.useContext)(s.A).myEvents,p=(0,n.useContext)(h.S).currentUser,j=(0,r.s0)(),D=function(e){return(0,c.jsx)(f,{event:e},e.id)};return(0,n.useEffect)((function(){l((function(){return g.slice(0,3).map(D)})),v((function(e){var t=(0,i.Z)({},e);return t.totalCards=g.length,t}))}),[g]),(0,c.jsxs)("div",{className:"border bg-white p-3 d-table rounded w-100",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-8",children:(0,c.jsx)(d.Z,{defaultPageSize:x.defaultPageSize,current:x.currentPage,onChange:function(e){var t=e,a=e-1;v((function(e){var n=(0,i.Z)({},e);return n.currentPage=t,n.pageIndex=a,l((function(){return g.slice(a*x.defaultPageSize,t*x.defaultPageSize).map(D)})),n}))},total:x.totalCards})}),(0,c.jsx)("div",{className:"col-md-4",children:(0,c.jsx)("button",{className:p.isLoggedIn?"btn btn-success float-end mb-4":"d-none",onClick:function(){j("/events/new")},children:"New Event"})})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col",children:(0,c.jsx)("button",{className:"btn btn-secondary float-end",id:"viewAllOnMap",onClick:function(){j("/map",{state:{type:"EVENT_MAP_VIEW",payload:g}})},children:"View All On Map"})})}),(0,c.jsx)("div",{className:"row d-table",children:(0,c.jsx)("h4",{children:"My Upcoming Events"})}),(0,c.jsx)("div",{className:"row w-100 h-100",children:a})]})},p=a(1087);var j=function(){var e=(0,n.useContext)(s.A).myEvents,t=(0,n.useContext)(h.S).currentUser;return e.length>0&&t.isLoggedIn?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{className:"fw-bold text-center pt-4",children:"My Events"}),(0,c.jsxs)("div",{className:"row p-4 h-100",style:{marginBottom:"5%"},children:[(0,c.jsx)("div",{className:"col-xl-8 float-left mb-2",children:(0,c.jsx)(l,{})}),(0,c.jsx)("div",{className:"col-xl-4 float-left",children:(0,c.jsx)(g,{})})]})]}):(0,c.jsxs)("div",{className:"container pt-5",children:[(0,c.jsx)("h1",{className:"fw-bold text-center",children:"You have no signed up events yet!"}),(0,c.jsxs)("h2",{className:"fw-bold text-center",children:["Would you like to ",(0,c.jsx)(p.rU,{to:"/events/new",children:"create one?"})]})]})}}}]);
//# sourceMappingURL=406.d8e73d81.chunk.js.map