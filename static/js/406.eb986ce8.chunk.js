"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[406],{7406:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var n=a(2791),i=(a(9755),a(1413)),s=a(7935),c=a(184);var d=function(){var e=(0,n.useContext)(s.A),t=e.myEvents,a=e.mainEvent,d=e.setMainEvent;return(0,n.useEffect)((function(){d((function(e){var a=(0,i.Z)({},e);return a.id=t[0].id,a.headline=t[0].headline,a.summary=t[0].summary,a.description=t[0].description,a.metaData=[{dateStart:t[0].metaData[0].dateStart,dateEnd:t[0].metaData[0].dateEnd,location:[{buildingNumber:t[0].metaData[0].location[0].buildingNumber,street:t[0].metaData[0].location[0].street,city:t[0].metaData[0].location[0].city,state:t[0].metaData[0].location[0].state,zipCode:t[0].metaData[0].location[0].zipCode,latitude:t[0].metaData[0].location[0].latitude,longitude:t[0].metaData[0].location[0].longitude}]}],a.slug=t[0].slug,a.imageUrl=t[0].imageUrl,a.dateCreated=t[0].dateCreated,a.dateModified=t[0].dateModified,a}))}),[]),(0,c.jsx)("div",{className:"main-event p-4 rounded",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("h2",{children:a.headline}),(0,c.jsx)("img",{className:"img-fluid event-img",src:a.imageUrl,alt:"eventimg"}),(0,c.jsx)("p",{children:a.summary}),(0,c.jsx)("p",{children:a.description}),(0,c.jsxs)("div",{className:"row d-flex justify-content-between",children:[(0,c.jsx)("div",{className:"col-6",children:(0,c.jsx)("iframe",{title:"map",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyAAvHGEiiMNEavE8qp_rXHQdnIqaebNBo8&","&q=").concat(a.metaData[0].location[0].buildingNumber," ").concat(a.metaData[0].location[0].street," ").concat(a.metaData[0].location[0].city,", ").concat(a.metaData[0].location[0].state," ").concat(a.metaData[0].location[0].zipCode),style:{border:"0",width:"100%",height:"180px"},loading:"lazy"})}),(0,c.jsxs)("div",{className:"col-6",children:[(0,c.jsx)("h6",{style:{fontSize:"20px"},children:"Location"}),(0,c.jsxs)("p",{id:"mainLocation",children:[a.metaData[0].location[0].buildingNumber," ",a.metaData[0].location[0].street," ",a.metaData[0].location[0].city,", ",a.metaData[0].location[0].state," ",a.metaData[0].location[0].zipCode]}),(0,c.jsxs)("p",{children:["Start Date:"," ",new Date(a.metaData[0].dateStart).toLocaleDateString()," ",new Date(a.metaData[0].dateStart).toLocaleTimeString()]}),(0,c.jsxs)("p",{children:["End Date:"," ",new Date(a.metaData[0].dateEnd).toLocaleDateString()," ",new Date(a.metaData[0].dateEnd).toLocaleTimeString()]})]})]})]})})},l=a(885),o=a(7689),r=a(697),m=a(2982),u=a(6774),h=a(2345),v=a(5828),x=a.n(v);var g=function(e){var t=e.event,a=(0,n.useContext)(h.S).currentUser,d=(0,n.useContext)(s.A),l=d.myEvents,o=d.setMyEvents,r=d.setMainEvent,v=function(e){var a=l.findIndex((function(e){return e.id===t.id}));a>=0&&o((function(e){var t=(0,m.Z)(e);return t.splice(a,1),x().success("Removed from my events"),t}))},g=function(e){x().error("An error occurred"),console.log(e)};return(0,c.jsx)("div",{className:"card m-2 w-100 h-100",children:(0,c.jsxs)("div",{style:{paddingBottom:"2%"},children:[(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h5",{children:t.headline}),(0,c.jsx)("p",{children:t.metaData[0].dateStart}),(0,c.jsx)("p",{children:t.description})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-12",children:[(0,c.jsx)("button",{className:"btn btn-light",onClick:function(){r((function(e){var a=(0,i.Z)({},e);return a.id=t.id,a.headline=t.headline,a.summary=t.summary,a.description=t.description,a.metaData=[{dateStart:t.metaData[0].dateStart,dateEnd:t.metaData[0].dateEnd,location:[{buildingNumber:t.metaData[0].location[0].buildingNumber,street:t.metaData[0].location[0].street,city:t.metaData[0].location[0].city,state:t.metaData[0].location[0].state,zipCode:t.metaData[0].location[0].zipCode,latitude:t.metaData[0].location[0].latitude,longitude:t.metaData[0].location[0].longitude}]}],a.slug=t.slug,a.imageUrl=t.imageUrl,a.dateCreated=t.dateCreated,a.dateModified=t.dateModified,a}))},children:"View More"}),(0,c.jsx)("button",{className:"btn btn-warning mx-3",onClick:function(){u.Z.unvolunteer(a.id,t.id).then(v).catch(g)},children:"Remove"})]})})]})})};var f=function(){var e=(0,n.useState)([]),t=(0,l.Z)(e,2),a=t[0],d=t[1],m=(0,n.useState)({defaultPageSize:3,pageIndex:0,currentPage:1,totalCards:0}),u=(0,l.Z)(m,2),v=u[0],x=u[1],f=(0,n.useContext)(s.A).myEvents,j=(0,n.useContext)(h.S).currentUser,p=(0,o.s0)(),D=function(e){return(0,c.jsx)(g,{event:e},e.id)};return(0,n.useEffect)((function(){d((function(){return f.slice(0,3).map(D)})),x((function(e){var t=(0,i.Z)({},e);return t.totalCards=f.length,t}))}),[f]),(0,c.jsxs)("div",{className:"upcoming-events d-table rounded mt-4",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-8",children:(0,c.jsx)(r.Z,{defaultPageSize:v.defaultPageSize,current:v.currentPage,onChange:function(e){var t=e,a=e-1;x((function(e){var n=(0,i.Z)({},e);return n.currentPage=t,n.pageIndex=a,d((function(){return f.slice(a*v.defaultPageSize,t*v.defaultPageSize).map(D)})),n}))},total:v.totalCards})}),(0,c.jsx)("div",{className:"col-md-4",children:(0,c.jsx)("button",{className:j.isLoggedIn?"btn btn-light float-end mb-4":"d-none",onClick:function(){p("/events/new")},children:"New Event"})})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col",children:(0,c.jsx)("button",{className:"btn btn float-end",id:"viewAllOnMap",style:{backgroundColor:"#E6E9ED"},onClick:function(){p("/map",{state:{type:"EVENT_MAP_VIEW",payload:f}})},children:"View All On Map"})})}),(0,c.jsx)("div",{className:"row d-table",children:(0,c.jsx)("h4",{style:{height:"fit-content",width:"100%"},children:"My Events"})}),(0,c.jsx)("div",{className:"row feeds-container",style:{height:"fit-content",width:"inherit"},children:a})]})};var j=function(){return(0,n.useContext)(s.A).myEvents.length>0?(0,c.jsx)("div",{className:"landing-bg",children:(0,c.jsxs)("div",{className:"row d-flex align-content-center",children:[(0,c.jsx)("h1",{className:"fw-bold text-center",children:"My Events"}),(0,c.jsx)(d,{}),(0,c.jsx)("div",{className:"right-panel float-left",children:(0,c.jsx)(f,{})})]})}):(0,c.jsx)("div",{className:"landing-bg min-vh-100",children:(0,c.jsxs)("div",{className:"container pt-5",children:[(0,c.jsx)("h1",{className:"fw-bold text-center",children:"You have no signed up events yet!"}),(0,c.jsxs)("h2",{className:"fw-bold text-center",children:["Would you like to ",(0,c.jsx)("a",{href:"/events/new",children:"create one?"})]})]})})}},9755:function(){}}]);
//# sourceMappingURL=406.eb986ce8.chunk.js.map