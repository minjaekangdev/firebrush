"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[950],{1321:function(e,n,a){var t=a(3716),i=a(7439);n.Z=function(){return(0,t.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyAAvHGEiiMNEavE8qp_rXHQdnIqaebNBo8&",libraries:i.G6}).isLoaded}},4950:function(e,n,a){a.r(n),a.d(n,{default:function(){return se}});var t,i=a(1413),s=a(885),o=a(2791),r=a(697),l=a(7935),c=a(2982),d=a(5987),u=a(1707),m=a.n(u),h=a(3070),x=a(7357),f=a(8376),g=a(6382);function v(e){if((!t&&0!==t||e)&&x.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return t}var b=a(8633),p=a(9007),j=a(3201),N=a(1683),y=a(3690),Z=a(1835),w=a(5592),D=a(2709),E=a(6543),S=(0,E.Z)("modal-body"),C=a(9820),P=a(162),k=a(184),F=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],z=o.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,s=e.contentClassName,o=e.centered,r=e.size,l=e.fullscreen,c=e.children,u=e.scrollable,h=(0,d.Z)(e,F);a=(0,P.vE)(a,"modal");var x="".concat(a,"-dialog"),f="string"===typeof l?"".concat(a,"-fullscreen-").concat(l):"".concat(a,"-fullscreen");return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({},h),{},{ref:n,className:m()(x,t,r&&"".concat(a,"-").concat(r),o&&"".concat(x,"-centered"),u&&"".concat(x,"-scrollable"),l&&f),children:(0,k.jsx)("div",{className:m()("".concat(a,"-content"),s),children:c})}))}));z.displayName="ModalDialog";var A=z,R=(0,E.Z)("modal-footer"),M=a(8024),T=["bsPrefix","className"],I=o.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,s=(0,d.Z)(e,T);return a=(0,P.vE)(a,"modal-header"),(0,k.jsx)(M.Z,(0,i.Z)((0,i.Z)({ref:n},s),{},{className:m()(t,a)}))}));I.displayName="ModalHeader",I.defaultProps={closeLabel:"Close",closeButton:!1};var H=I,L=(0,a(7472).Z)("h4"),O=(0,E.Z)("modal-title",{Component:L}),_=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],q={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:A};function B(e){return(0,k.jsx)(D.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}function U(e){return(0,k.jsx)(D.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}var K=o.forwardRef((function(e,n){var a=e.bsPrefix,t=e.className,r=e.style,l=e.dialogClassName,c=e.contentClassName,u=e.children,D=e.dialogAs,E=e["aria-labelledby"],S=e["aria-describedby"],F=e["aria-label"],z=e.show,A=e.animation,R=e.backdrop,M=e.keyboard,T=e.onEscapeKeyDown,I=e.onShow,H=e.onHide,L=e.container,O=e.autoFocus,q=e.enforceFocus,K=e.restoreFocus,V=e.restoreFocusOptions,W=e.onEntered,J=e.onExit,G=e.onExiting,Q=e.onEnter,X=e.onEntering,Y=e.onExited,$=e.backdropClassName,ee=e.manager,ne=(0,d.Z)(e,_),ae=(0,o.useState)({}),te=(0,s.Z)(ae,2),ie=te[0],se=te[1],oe=(0,o.useState)(!1),re=(0,s.Z)(oe,2),le=re[0],ce=re[1],de=(0,o.useRef)(!1),ue=(0,o.useRef)(!1),me=(0,o.useRef)(null),he=(0,b.Z)(),xe=(0,s.Z)(he,2),fe=xe[0],ge=xe[1],ve=(0,j.Z)(n,ge),be=(0,p.Z)(H),pe=(0,P.SC)();a=(0,P.vE)(a,"modal");var je=(0,o.useMemo)((function(){return{onHide:be}}),[be]);function Ne(){return ee||(0,w.t)({isRTL:pe})}function ye(e){if(x.Z){var n=Ne().getScrollbarWidth()>0,a=e.scrollHeight>(0,f.Z)(e).documentElement.clientHeight;se({paddingRight:n&&!a?v():void 0,paddingLeft:!n&&a?v():void 0})}}var Ze=(0,p.Z)((function(){fe&&ye(fe.dialog)}));(0,N.Z)((function(){(0,g.Z)(window,"resize",Ze),null==me.current||me.current()}));var we=function(){de.current=!0},De=function(e){de.current&&fe&&e.target===fe.dialog&&(ue.current=!0),de.current=!1},Ee=function(){ce(!0),me.current=(0,y.Z)(fe.dialog,(function(){ce(!1)}))},Se=function(e){"static"!==R?ue.current||e.target!==e.currentTarget?ue.current=!1:null==H||H():function(e){e.target===e.currentTarget&&Ee()}(e)},Ce=(0,o.useCallback)((function(e){return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({},e),{},{className:m()("".concat(a,"-backdrop"),$,!A&&"show")}))}),[A,$,a]),Pe=(0,i.Z)((0,i.Z)({},r),ie);Pe.display="block";return(0,k.jsx)(C.Z.Provider,{value:je,children:(0,k.jsx)(Z.Z,{show:z,ref:ve,backdrop:R,container:L,keyboard:!0,autoFocus:O,enforceFocus:q,restoreFocus:K,restoreFocusOptions:V,onEscapeKeyDown:function(e){M||"static"!==R?M&&T&&T(e):(e.preventDefault(),Ee())},onShow:I,onHide:H,onEnter:function(e,n){e&&ye(e),null==Q||Q(e,n)},onEntering:function(e,n){null==X||X(e,n),(0,h.ZP)(window,"resize",Ze)},onEntered:W,onExit:function(e){null==me.current||me.current(),null==J||J(e)},onExiting:G,onExited:function(e){e&&(e.style.display=""),null==Y||Y(e),(0,g.Z)(window,"resize",Ze)},manager:Ne(),transition:A?B:void 0,backdropTransition:A?U:void 0,renderBackdrop:Ce,renderDialog:function(e){return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({role:"dialog"},e),{},{style:Pe,className:m()(t,a,le&&"".concat(a,"-static"),!A&&"show"),onClick:R?Se:void 0,onMouseUp:De,"aria-label":F,"aria-labelledby":E,"aria-describedby":S,children:(0,k.jsx)(D,(0,i.Z)((0,i.Z)({},ne),{},{onMouseDown:we,className:l,contentClassName:c,children:u}))}))}})})}));K.displayName="Modal",K.defaultProps=q;var V=Object.assign(K,{Body:S,Header:H,Title:O,Footer:R,Dialog:A,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),W=a(3360),J=a(2345),G=a(6774),Q=a(7689),X=a(5828),Y=a.n(X);var $=function(e){var n=e.show,a=e.handleClose,t=e.event,i=(0,o.useContext)(J.S).currentUser,s=(0,o.useContext)(l.A),r=s.setMyEvents,d=s.myEvents,u=(0,Q.s0)(),m=function(e){Y().success("Successfully joined event!","Check my events"),u("/myevents"),r((function(e){return[].concat((0,c.Z)(e),[t])})),console.log(d)},h=function(e){Y().error("An error occured...")};return(0,k.jsxs)(V,{show:n,onHide:a,size:"lg",children:[(0,k.jsx)(V.Header,{closeButton:!0,children:(0,k.jsx)(V.Title,{children:t.headline})}),(0,k.jsxs)(V.Body,{children:[(0,k.jsx)("div",{style:{height:"auto",width:"100%"},children:(0,k.jsx)("img",{src:t.imageUrl,alt:"",className:"img-fluid img-thumbnail",style:{maxWidth:"100%",maxHeight:"100%",width:"inherit",objectFit:"cover"}})}),(0,k.jsx)("h2",{className:"mt-4",children:t.headline}),(0,k.jsx)("h5",{children:"Slug:"}),(0,k.jsx)("p",{children:t.slug}),(0,k.jsx)("h3",{children:"Summary:"}),(0,k.jsx)("p",{children:t.summary}),(0,k.jsx)("h3",{children:"Description:"}),(0,k.jsx)("p",{children:t.description}),(0,k.jsx)("div",{className:"col-6",children:(0,k.jsx)("iframe",{title:"map",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyAAvHGEiiMNEavE8qp_rXHQdnIqaebNBo8&","&q=").concat(t.metaData[0].location[0].buildingNumber," ").concat(t.metaData[0].location[0].street," ").concat(t.metaData[0].location[0].city,", ").concat(t.metaData[0].location[0].state," ").concat(t.metaData[0].location[0].zipCode),style:{border:"0",width:"100%",height:"180px"},loading:"lazy"})}),(0,k.jsx)("h3",{children:"Location:"}),(0,k.jsxs)("p",{children:[t.metaData[0].location[0].buildingNumber," ",t.metaData[0].location[0].street," ",t.metaData[0].location[0].city,", ",t.metaData[0].location[0].state," ",t.metaData[0].location[0].zipCode]}),(0,k.jsxs)("p",{children:["Start Date:"," ",new Date(t.metaData[0].dateStart).toLocaleDateString()," ",new Date(t.metaData[0].dateStart).toLocaleTimeString()]}),(0,k.jsxs)("p",{children:["End Date: ",new Date(t.metaData[0].dateEnd).toLocaleDateString()," ",new Date(t.metaData[0].dateEnd).toLocaleTimeString()]})]}),(0,k.jsxs)(V.Footer,{children:[(0,k.jsx)(W.Z,{variant:"secondary",onClick:a,children:"Close"}),i.isLoggedIn&&d.findIndex((function(e){return e.id===t.id}))<0?(0,k.jsx)(W.Z,{variant:"primary",onClick:function(){G.Z.volunteer(i.id,t.id).then(m).catch(h)},children:"Join"}):""]})]})};var ee=function(e){var n=e.event,a=(0,o.useState)(!1),t=(0,s.Z)(a,2),i=t[0],r=t[1];return(0,k.jsxs)("div",{className:"card m-2 bg-light w-100",children:[(0,k.jsx)("h1",{className:"fw-bold mt-3",children:n.headline}),(0,k.jsx)("div",{className:"card-img mt-2 h-auto w-auto",children:(0,k.jsx)("img",{src:n.imageUrl,alt:"",className:"img-fluid img-thumbnail mainevent-img"})}),(0,k.jsxs)("div",{className:"pb-2",children:[(0,k.jsxs)("div",{className:"card-body",children:[(0,k.jsxs)("p",{children:["Start: ",new Date(n.metaData[0].dateStart).toLocaleDateString()," ","",new Date(n.metaData[0].dateStart).toLocaleTimeString()]}),(0,k.jsxs)("p",{children:["End: ",new Date(n.metaData[0].dateEnd).toLocaleDateString()," ","",new Date(n.metaData[0].dateEnd).toLocaleTimeString()]}),(0,k.jsx)("p",{children:n.description})]}),(0,k.jsx)("div",{className:"row",children:(0,k.jsx)("div",{className:"col-6",children:(0,k.jsx)("button",{className:"btn btn-warning",onClick:function(){r(!i)},children:"View More"})})})]}),(0,k.jsx)($,{show:i,handleClose:function(){r(!i)},event:n})]})},ne=a(5705),ae=a(3716),te=a(1321);var ie=function(){var e=(0,o.useContext)(l.A).setPaginData,n=(0,o.useState)(),a=(0,s.Z)(n,2),t=a[0],i=a[1],r=(0,o.useState)({address:"",lat:"",lng:"",radius:5}),c=(0,s.Z)(r,2),d=c[0],u=c[1],m=function(e){i(e)},h=function(n){Y().success("Results found."),e(n.data.item)},x=function(e){Y().error("No results"),console.log(e)},f=function(n){e(n.data.item.pagedItems),Y().success("Results found."),console.log(n)},g=function(e){Y().error("No results found.")};return(0,te.Z)()?(0,k.jsxs)("div",{className:"align-content-center d-table rounded w-100",children:[(0,k.jsx)(ne.J9,{enableReinitialize:!0,initialValues:{query:""},onSubmit:function(e){G.Z.search(0,100,e.query).then(f).catch(g)},children:(0,k.jsx)(ne.l0,{children:(0,k.jsxs)("div",{className:"row d-flex align-items-baseline m-2",children:[(0,k.jsx)("div",{className:"col-xl-1",children:(0,k.jsx)("h5",{children:"Search:"})}),(0,k.jsx)("div",{className:"col-xl-10",children:(0,k.jsx)(ne.gN,{className:"form-control",type:"text",name:"query",placeholder:"Filter by query"})}),(0,k.jsx)("div",{className:"col-xl-1 my-1",children:(0,k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})})]})})}),(0,k.jsx)(ne.J9,{enableReinitialize:!0,initialValues:d,onSubmit:function(e){G.Z.geosearch(e.lat,e.lng,e.radius).then(h).catch(x)},children:function(e){var n=e.values;return(0,k.jsx)(ne.l0,{children:(0,k.jsxs)("div",{className:"row d-flex align-items-baseline m-2",children:[(0,k.jsx)("div",{className:"col-xl-1",children:(0,k.jsx)("h5",{children:"Or by:"})}),(0,k.jsx)("div",{className:"col-xl-8",children:(0,k.jsx)(ae.F2,{onLoad:m,onPlaceChanged:function(){return function(e){var n,a,i,s,o=null===t||void 0===t?void 0:t.getPlace(),r=null===t||void 0===t||null===(n=t.getPlace().geometry)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.lat(),l=null===t||void 0===t||null===(i=t.getPlace().geometry)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.lng();e.address=null===o||void 0===o?void 0:o.formatted_address,e.lat=r,e.lng=l,u(e)}(n)},children:(0,k.jsx)(ne.gN,{className:"form-control my-2",type:"text",name:"address",id:"address",value:n.address,placeholder:"Your location"})})}),(0,k.jsx)("div",{className:"col-xl-2",children:(0,k.jsxs)(ne.gN,{className:"form-control",as:"select",name:"radius",children:[(0,k.jsx)("option",{value:5,children:"5 Miles"}),(0,k.jsx)("option",{value:10,children:"10 Miles"}),(0,k.jsx)("option",{value:25,children:"25 Miles"}),(0,k.jsx)("option",{value:50,children:"50 Miles"}),(0,k.jsx)("option",{value:100,children:"100 Miles"})]})}),(0,k.jsx)("div",{className:"col-xl-1 my-1",children:(0,k.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Search"})})]})})}})]}):(0,k.jsx)(k.Fragment,{})};var se=function(){var e=(0,o.useContext)(l.A),n=e.events,a=e.paginData,t=e.setPaginData,c=(0,o.useState)({defaultPageSize:3,pageIndex:0,currentPage:1,totalCards:0}),d=(0,s.Z)(c,2),u=d[0],m=d[1],h=(0,o.useState)([]),x=(0,s.Z)(h,2),f=x[0],g=x[1],v=(0,Q.s0)(),b=function(e){return(0,k.jsx)(ee,{event:e},e.id)},p=function(e){var n=e,t=e-1;m((function(e){var s=(0,i.Z)({},e);return s.currentPage=n,s.pageIndex=t,g((function(){return a.slice(t*u.defaultPageSize,n*u.defaultPageSize).map(b)})),s}))};return(0,o.useEffect)((function(){g((function(){return a.slice(0,3).map(b)})),m((function(e){var n=(0,i.Z)({},e);return n.totalCards=a.length,n}))}),[a]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h1",{className:"fw-bold text-center pt-4",children:"Browse Events"}),(0,k.jsxs)("div",{className:"container border mt-4 rounded bg-white",children:[(0,k.jsx)("div",{className:"container mt-3 rounded bg-white",children:(0,k.jsx)(ie,{})}),(0,k.jsxs)("div",{className:"container-fluid d-table justify-content-center",children:[(0,k.jsxs)("div",{className:"row container",children:[(0,k.jsx)("div",{className:"col-6",children:(0,k.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){Y().success("Reset events"),t(n)},children:"Reset Events"})}),(0,k.jsx)("div",{className:"col-6 text-end",children:(0,k.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){v("/map",{state:{type:"EVENT_MAP_VIEW",payload:a}})},children:"Open Map"})})]}),(0,k.jsx)("div",{className:"container m-3",children:(0,k.jsx)(r.Z,{defaultPageSize:u.defaultPageSize,current:u.currentPage,onChange:p,total:u.totalCards})}),(0,k.jsx)("div",{className:"row justify-content-around",children:f})]}),(0,k.jsx)("div",{className:"container m-3",children:(0,k.jsx)(r.Z,{defaultPageSize:u.defaultPageSize,current:u.currentPage,onChange:p,total:u.totalCards})})]})]})}}}]);
//# sourceMappingURL=950.3e2d7b8e.chunk.js.map