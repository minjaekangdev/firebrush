"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[950],{4950:function(e,t,n){n.r(t),n.d(t,{default:function(){return se}});var a,i=n(1413),s=n(885),o=n(2791),r=n(697),l=n(7935),c=(n(9755),n(2982)),d=n(5987),u=n(1707),m=n.n(u),h=n(3070),x=n(7357),f=n(8376),g=n(6382);function v(e){if((!a&&0!==a||e)&&x.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),a=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return a}var b=n(8633),j=n(9007),p=n(3201),y=n(1683),N=n(3690),Z=n(1835),w=n(4382),D=n(2709),E=n(6543),S=(0,E.Z)("modal-body"),C=n(9820),P=n(162),k=n(184),F=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],z=o.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.contentClassName,o=e.centered,r=e.size,l=e.fullscreen,c=e.children,u=e.scrollable,h=(0,d.Z)(e,F);n=(0,P.vE)(n,"modal");var x="".concat(n,"-dialog"),f="string"===typeof l?"".concat(n,"-fullscreen-").concat(l):"".concat(n,"-fullscreen");return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({},h),{},{ref:t,className:m()(x,a,r&&"".concat(n,"-").concat(r),o&&"".concat(x,"-centered"),u&&"".concat(x,"-scrollable"),l&&f),children:(0,k.jsx)("div",{className:m()("".concat(n,"-content"),s),children:c})}))}));z.displayName="ModalDialog";var A=z,R=(0,E.Z)("modal-footer"),M=n(8024),T=["bsPrefix","className"],H=o.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=(0,d.Z)(e,T);return n=(0,P.vE)(n,"modal-header"),(0,k.jsx)(M.Z,(0,i.Z)((0,i.Z)({ref:t},s),{},{className:m()(a,n)}))}));H.displayName="ModalHeader",H.defaultProps={closeLabel:"Close",closeButton:!1};var I=H,L=(0,n(7472).Z)("h4"),O=(0,E.Z)("modal-title",{Component:L}),B=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],_={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:A};function q(e){return(0,k.jsx)(D.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}function U(e){return(0,k.jsx)(D.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}var W=o.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,r=e.style,l=e.dialogClassName,c=e.contentClassName,u=e.children,D=e.dialogAs,E=e["aria-labelledby"],S=e["aria-describedby"],F=e["aria-label"],z=e.show,A=e.animation,R=e.backdrop,M=e.keyboard,T=e.onEscapeKeyDown,H=e.onShow,I=e.onHide,L=e.container,O=e.autoFocus,_=e.enforceFocus,W=e.restoreFocus,K=e.restoreFocusOptions,V=e.onEntered,J=e.onExit,G=e.onExiting,Q=e.onEnter,X=e.onEntering,Y=e.onExited,$=e.backdropClassName,ee=e.manager,te=(0,d.Z)(e,B),ne=(0,o.useState)({}),ae=(0,s.Z)(ne,2),ie=ae[0],se=ae[1],oe=(0,o.useState)(!1),re=(0,s.Z)(oe,2),le=re[0],ce=re[1],de=(0,o.useRef)(!1),ue=(0,o.useRef)(!1),me=(0,o.useRef)(null),he=(0,b.Z)(),xe=(0,s.Z)(he,2),fe=xe[0],ge=xe[1],ve=(0,p.Z)(t,ge),be=(0,j.Z)(I),je=(0,P.SC)();n=(0,P.vE)(n,"modal");var pe=(0,o.useMemo)((function(){return{onHide:be}}),[be]);function ye(){return ee||(0,w.t)({isRTL:je})}function Ne(e){if(x.Z){var t=ye().getScrollbarWidth()>0,n=e.scrollHeight>(0,f.Z)(e).documentElement.clientHeight;se({paddingRight:t&&!n?v():void 0,paddingLeft:!t&&n?v():void 0})}}var Ze=(0,j.Z)((function(){fe&&Ne(fe.dialog)}));(0,y.Z)((function(){(0,g.Z)(window,"resize",Ze),null==me.current||me.current()}));var we=function(){de.current=!0},De=function(e){de.current&&fe&&e.target===fe.dialog&&(ue.current=!0),de.current=!1},Ee=function(){ce(!0),me.current=(0,N.Z)(fe.dialog,(function(){ce(!1)}))},Se=function(e){"static"!==R?ue.current||e.target!==e.currentTarget?ue.current=!1:null==I||I():function(e){e.target===e.currentTarget&&Ee()}(e)},Ce=(0,o.useCallback)((function(e){return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({},e),{},{className:m()("".concat(n,"-backdrop"),$,!A&&"show")}))}),[A,$,n]),Pe=(0,i.Z)((0,i.Z)({},r),ie);Pe.display="block";return(0,k.jsx)(C.Z.Provider,{value:pe,children:(0,k.jsx)(Z.Z,{show:z,ref:ve,backdrop:R,container:L,keyboard:!0,autoFocus:O,enforceFocus:_,restoreFocus:W,restoreFocusOptions:K,onEscapeKeyDown:function(e){M||"static"!==R?M&&T&&T(e):(e.preventDefault(),Ee())},onShow:H,onHide:I,onEnter:function(e,t){e&&Ne(e),null==Q||Q(e,t)},onEntering:function(e,t){null==X||X(e,t),(0,h.ZP)(window,"resize",Ze)},onEntered:V,onExit:function(e){null==me.current||me.current(),null==J||J(e)},onExiting:G,onExited:function(e){e&&(e.style.display=""),null==Y||Y(e),(0,g.Z)(window,"resize",Ze)},manager:ye(),transition:A?q:void 0,backdropTransition:A?U:void 0,renderBackdrop:Ce,renderDialog:function(e){return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({role:"dialog"},e),{},{style:Pe,className:m()(a,n,le&&"".concat(n,"-static"),!A&&"show"),onClick:R?Se:void 0,onMouseUp:De,"aria-label":F,"aria-labelledby":E,"aria-describedby":S,children:(0,k.jsx)(D,(0,i.Z)((0,i.Z)({},te),{},{onMouseDown:we,className:l,contentClassName:c,children:u}))}))}})})}));W.displayName="Modal",W.defaultProps=_;var K=Object.assign(W,{Body:S,Header:I,Title:O,Footer:R,Dialog:A,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),V=n(3360),J=n(2345),G=n(6774),Q=n(7689),X=n(5828),Y=n.n(X);var $=function(e){var t=e.show,n=e.handleClose,a=e.event,i=(0,o.useContext)(J.S).currentUser,s=(0,o.useContext)(l.A),r=s.setMyEvents,d=s.myEvents,u=(0,Q.s0)(),m=function(e){Y().success("Successfully joined event!","Check my events"),u("/myevents"),r((function(e){return[].concat((0,c.Z)(e),[a])})),console.log(d)},h=function(e){Y().error("An error occured...")};return(0,k.jsxs)(K,{show:t,onHide:n,size:"lg",children:[(0,k.jsx)(K.Header,{closeButton:!0,children:(0,k.jsx)(K.Title,{children:a.headline})}),(0,k.jsxs)(K.Body,{children:[(0,k.jsx)("div",{style:{height:"auto",width:"100%"},children:(0,k.jsx)("img",{src:a.imageUrl,alt:"",className:"img-fluid img-thumbnail",style:{maxWidth:"100%",maxHeight:"100%",width:"inherit",objectFit:"cover"}})}),(0,k.jsx)("h2",{className:"mt-4",children:a.headline}),(0,k.jsx)("h5",{children:"Slug:"}),(0,k.jsx)("p",{children:a.slug}),(0,k.jsx)("h3",{children:"Summary:"}),(0,k.jsx)("p",{children:a.summary}),(0,k.jsx)("h3",{children:"Description:"}),(0,k.jsx)("p",{children:a.description}),(0,k.jsx)("div",{className:"col-6",children:(0,k.jsx)("iframe",{title:"map",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyAAvHGEiiMNEavE8qp_rXHQdnIqaebNBo8&","&q=").concat(a.metaData[0].location[0].buildingNumber," ").concat(a.metaData[0].location[0].street," ").concat(a.metaData[0].location[0].city,", ").concat(a.metaData[0].location[0].state," ").concat(a.metaData[0].location[0].zipCode),style:{border:"0",width:"100%",height:"180px"},loading:"lazy"})}),(0,k.jsx)("h3",{children:"Location:"}),(0,k.jsxs)("p",{children:[a.metaData[0].location[0].buildingNumber," ",a.metaData[0].location[0].street," ",a.metaData[0].location[0].city,", ",a.metaData[0].location[0].state," ",a.metaData[0].location[0].zipCode]}),(0,k.jsxs)("p",{children:["Start Date:"," ",new Date(a.metaData[0].dateStart).toLocaleDateString()," ",new Date(a.metaData[0].dateStart).toLocaleTimeString()]}),(0,k.jsxs)("p",{children:["End Date: ",new Date(a.metaData[0].dateEnd).toLocaleDateString()," ",new Date(a.metaData[0].dateEnd).toLocaleTimeString()]})]}),(0,k.jsxs)(K.Footer,{children:[(0,k.jsx)(V.Z,{variant:"secondary",onClick:n,children:"Close"}),i.isLoggedIn&&d.findIndex((function(e){return e.id===a.id}))<0?(0,k.jsx)(V.Z,{variant:"primary",onClick:function(){G.Z.volunteer(i.id,a.id).then(m).catch(h)},children:"Join"}):""]})]})};var ee=function(e){var t=e.event,n=(0,o.useState)(!1),a=(0,s.Z)(n,2),i=a[0],r=a[1];return(0,k.jsxs)("div",{className:"card m-2",style:{width:"100%"},children:[(0,k.jsx)("h1",{className:"fw-bold mt-3",children:t.headline}),(0,k.jsx)("div",{className:"card-img mt-2",style:{height:"auto",width:"inherit"},children:(0,k.jsx)("img",{src:t.imageUrl,alt:"",className:"img-fluid img-thumbnail",style:{maxHeight:"100%",maxWidth:"100%",width:"100%",objectFit:"cover"}})}),(0,k.jsxs)("div",{style:{paddingBottom:"2%"},children:[(0,k.jsxs)("div",{className:"card-body",children:[(0,k.jsxs)("p",{children:["Start: ",new Date(t.metaData[0].dateStart).toLocaleDateString()," ","",new Date(t.metaData[0].dateStart).toLocaleTimeString()]}),(0,k.jsxs)("p",{children:["End: ",new Date(t.metaData[0].dateEnd).toLocaleDateString()," ","",new Date(t.metaData[0].dateEnd).toLocaleTimeString()]}),(0,k.jsx)("p",{children:t.description})]}),(0,k.jsx)("div",{className:"row",children:(0,k.jsx)("div",{className:"col-6",children:(0,k.jsx)("button",{className:"btn btn-light",onClick:function(){r(!i)},children:"View More"})})})]}),(0,k.jsx)($,{show:i,handleClose:function(){r(!i)},event:t})]})},te=n(5705),ne=n(3716),ae=n(7860);var ie=function(){var e=(0,o.useContext)(l.A).setPaginData,t=(0,o.useState)(),n=(0,s.Z)(t,2),a=n[0],i=n[1],r=(0,o.useState)({address:"",lat:"",lng:"",radius:5}),c=(0,s.Z)(r,2),d=c[0],u=c[1],m=function(e){i(e)},h=function(t){Y().success("Results found."),e(t.data.item)},x=function(e){Y().error("No results"),console.log(e)},f=function(t){e(t.data.item.pagedItems),Y().success("Results found."),console.log(t)},g=function(e){Y().error("No results found.")};return(0,ae.Z)()?(0,k.jsxs)("div",{className:"align-content-center d-table rounded",style:{width:"100%"},children:[(0,k.jsx)(te.J9,{enableReinitialize:!0,initialValues:{query:""},onSubmit:function(e){G.Z.search(0,100,e.query).then(f).catch(g)},children:(0,k.jsx)(te.l0,{children:(0,k.jsxs)("div",{className:"row d-flex align-items-baseline m-2",children:[(0,k.jsx)("div",{className:"col-xl-1",children:(0,k.jsx)("h5",{children:"Search:"})}),(0,k.jsx)("div",{className:"col-xl-10",children:(0,k.jsx)(te.gN,{className:"form-control",type:"text",name:"query",placeholder:"Filter by query"})}),(0,k.jsx)("div",{className:"col-xl-1 my-1",children:(0,k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})})]})})}),(0,k.jsx)(te.J9,{enableReinitialize:!0,initialValues:d,onSubmit:function(e){G.Z.geosearch(e.lat,e.lng,e.radius).then(h).catch(x)},children:function(e){var t=e.values;return(0,k.jsx)(te.l0,{children:(0,k.jsxs)("div",{className:"row d-flex align-items-baseline m-2",children:[(0,k.jsx)("div",{className:"col-xl-1",children:(0,k.jsx)("h5",{children:"Or by:"})}),(0,k.jsx)("div",{className:"col-xl-8",children:(0,k.jsx)(ne.F2,{onLoad:m,onPlaceChanged:function(){return function(e){var t,n,i,s,o=null===a||void 0===a?void 0:a.getPlace(),r=null===a||void 0===a||null===(t=a.getPlace().geometry)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.lat(),l=null===a||void 0===a||null===(i=a.getPlace().geometry)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.lng();e.address=null===o||void 0===o?void 0:o.formatted_address,e.lat=r,e.lng=l,u(e)}(t)},children:(0,k.jsx)(te.gN,{className:"form-control my-2",type:"text",name:"address",id:"address",value:t.address,placeholder:"Your location"})})}),(0,k.jsx)("div",{className:"col-xl-2",children:(0,k.jsxs)(te.gN,{className:"form-control",as:"select",name:"radius",children:[(0,k.jsx)("option",{value:5,children:"5 Miles"}),(0,k.jsx)("option",{value:10,children:"10 Miles"}),(0,k.jsx)("option",{value:25,children:"25 Miles"}),(0,k.jsx)("option",{value:50,children:"50 Miles"}),(0,k.jsx)("option",{value:100,children:"100 Miles"})]})}),(0,k.jsx)("div",{className:"col-xl-1 my-1",children:(0,k.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Search"})})]})})}})]}):(0,k.jsx)(k.Fragment,{})};var se=function(){var e=(0,o.useContext)(l.A),t=e.events,n=e.paginData,a=e.setPaginData,c=(0,o.useState)({defaultPageSize:3,pageIndex:0,currentPage:1,totalCards:0}),d=(0,s.Z)(c,2),u=d[0],m=d[1],h=(0,o.useState)([]),x=(0,s.Z)(h,2),f=x[0],g=x[1],v=(0,Q.s0)(),b=function(e){return(0,k.jsx)(ee,{event:e},e.id)},j=function(e){var t=e,a=e-1;m((function(e){var s=(0,i.Z)({},e);return s.currentPage=t,s.pageIndex=a,g((function(){return n.slice(a*u.defaultPageSize,t*u.defaultPageSize).map(b)})),s}))};return(0,o.useEffect)((function(){g((function(){return n.slice(0,3).map(b)})),m((function(e){var t=(0,i.Z)({},e);return t.totalCards=n.length,t}))}),[n]),(0,k.jsxs)("div",{className:"landing-bg",children:[(0,k.jsx)("h1",{className:"fw-bold text-center pt-4",children:"Browse Events"}),(0,k.jsxs)("div",{className:"container border mt-4 rounded bg-white",children:[(0,k.jsx)("div",{className:"container mt-3 rounded bg-white",children:(0,k.jsx)(ie,{})}),(0,k.jsxs)("div",{className:"container-fluid d-table justify-content-center",children:[(0,k.jsxs)("div",{className:"row container",children:[(0,k.jsx)("div",{className:"col-6",children:(0,k.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){Y().success("Reset events"),a(t)},children:"Reset Events"})}),(0,k.jsx)("div",{className:"col-6 text-end",children:(0,k.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){v("/map",{state:{type:"EVENT_MAP_VIEW",payload:n}})},children:"Open Map"})})]}),(0,k.jsx)("div",{className:"container m-3",children:(0,k.jsx)(r.Z,{defaultPageSize:u.defaultPageSize,current:u.currentPage,onChange:j,total:u.totalCards})}),(0,k.jsx)("div",{className:"row justify-content-around",children:f})]}),(0,k.jsx)("div",{className:"container m-3",children:(0,k.jsx)(r.Z,{defaultPageSize:u.defaultPageSize,current:u.currentPage,onChange:j,total:u.totalCards})})]})]})}},7860:function(e,t,n){var a=n(3716),i=n(7439);t.Z=function(){return(0,a.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyAAvHGEiiMNEavE8qp_rXHQdnIqaebNBo8&",libraries:i.G6}).isLoaded}},9755:function(){}}]);
//# sourceMappingURL=950.5d92429f.chunk.js.map